<div class="whiteboard-container">
  <!-- Header -->
  <div class="whiteboard-header">
    <h1>ðŸŽ¨ Whiteboard Challenge</h1>
    <p>Practice solving problems visually - just like in real interviews!</p>
  </div>

  <div class="whiteboard-content">
    <!-- Left Panel - Question -->
    <div class="question-panel">
      <div class="question-header">
        <div class="question-meta">
          <span class="difficulty-tag {{ getDifficultyClass(currentQuestion.difficulty) }}">
            {{ currentQuestion.difficulty }}
          </span>
          <span class="category-badge">{{ currentQuestion.category }}</span>
        </div>
        <button class="next-btn" (click)="nextQuestion()" [disabled]="isLoading">
          <i class="fas fa-sync-alt"></i>
          Next Challenge
        </button>
      </div>

      <div class="question-content" *ngIf="!isLoading">
        <h3>{{ currentQuestion.title }}</h3>
        <p class="question-description">{{ currentQuestion.description }}</p>
        
        <div class="examples-section" *ngIf="currentQuestion.examples && currentQuestion.examples.length > 0">
          <h4>Examples:</h4>
          <div class="example" *ngFor="let example of currentQuestion.examples">
            <code>{{ example }}</code>
          </div>
        </div>
        
        <div class="constraints-section" *ngIf="currentQuestion.constraints && currentQuestion.constraints.length > 0">
          <h4>Constraints:</h4>
          <ul>
            <li *ngFor="let constraint of currentQuestion.constraints">{{ constraint }}</li>
          </ul>
        </div>

        <div class="instructions">
          <h4>ðŸ’¡ Instructions:</h4>
          <p>Use the drawing tools below to:</p>
          <ul>
            <li>Write pseudocode or algorithm steps</li>
            <li>Draw diagrams and data structures</li>
            <li>Show pointer movements or state changes</li>
            <li>Explain your approach visually</li>
          </ul>
        </div>
      </div>

      <div class="loading-state" *ngIf="isLoading">
        <div class="spinner"></div>
        <p>Loading your whiteboard challenge...</p>
      </div>
    </div>

    <!-- Right Panel - Whiteboard -->
    <div class="whiteboard-panel">
      <!-- Toolbar -->
      <div class="toolbar">
        <!-- Colors -->
        <div class="tool-group">
          <label>Colors:</label>
          <div class="color-picker">
            <button 
              *ngFor="let color of colors"
              class="color-btn"
              [class.active]="currentColor === color && currentTool === 'pen'"
              [style.background]="color"
              (click)="selectColor(color)">
            </button>
          </div>
        </div>

        <!-- Tools -->
        <div class="tool-group">
          <label>Tools:</label>
          <div class="tool-buttons">
            <button 
              class="tool-btn"
              [class.active]="currentTool === 'pen'"
              (click)="selectTool('pen')">
              <i class="fas fa-pen"></i>
              Pen
            </button>
            <button 
              class="tool-btn"
              [class.active]="currentTool === 'eraser'"
              (click)="selectTool('eraser')">
              <i class="fas fa-eraser"></i>
              Eraser
            </button>
          </div>
        </div>

        <!-- Line Width -->
        <div class="tool-group">
          <label>Size:</label>
          <div class="width-picker">
            <button 
              *ngFor="let width of lineWidths"
              class="width-btn"
              [class.active]="lineWidth === width"
              (click)="setLineWidth(width)">
              <div class="width-dot" [style.width.px]="width" [style.height.px]="width"></div>
            </button>
          </div>
        </div>

        <!-- Actions -->
        <div class="tool-group">
          <button class="action-btn clear-btn" (click)="clearCanvas()">
            <i class="fas fa-broom"></i>
            Clear Board
          </button>
        </div>
      </div>

      <!-- Canvas Container -->
      <div class="canvas-container">
        <canvas 
          #canvas
          class="drawing-canvas"
          [class.drawing-mode]="currentTool === 'pen'"
          [class.erasing-mode]="currentTool === 'eraser'">
          Your browser does not support the canvas element.
        </canvas>
      </div>

      <!-- Canvas Tips -->
      <div class="canvas-tips">
        <p><i class="fas fa-lightbulb"></i> Tip: Draw algorithms, data structures, or write pseudocode</p>
      </div>
    </div>
  </div>
</div>